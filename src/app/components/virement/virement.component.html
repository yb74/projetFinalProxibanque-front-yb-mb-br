<div class="container mx-auto p-4 text-center">
  <h2 class="text-3xl font-semibold mb-4">Faire un virement</h2>

  <div *ngIf="isToastVisible$ | async">
    <app-toast></app-toast>
  </div>

  <form [formGroup]="virementForm" (ngSubmit)="onSubmit()" class="max-w-md mx-auto">
    <div class="mb-4">
      <label for="montant" class="block text-gray-700 text-sm font-semibold mb-2">Somme</label>
      <input
        type="number"
        id="montant"
        formControlName="montant"
        class="w-full px-4 py-2 rounded-lg shadow-sm
               focus:outline-none focus:ring focus:ring-blue-200 transition duration-300
               border border-blue-300 bg-blue-100
               hover:border-blue-500 hover:bg-blue-200"
        [class.form-error]="virementForm.get('montant')?.invalid && virementForm.get('montant')?.touched"
      >
      <div *ngIf="virementForm.get('montant')?.invalid && virementForm.get('montant')?.touched" class="text-red-600 font-bold mt-1">La somme est requise et doit supérieur ou égale à 1.</div>
    </div>
    <button
      type="submit"
      [disabled]="!virementForm.valid"
      class="w-full px-4 py-2 rounded-lg shadow-md text-white bg-blue-500 hover:bg-blue-600 transition duration-300"
      [class.error-button]="!virementForm.valid"
    >
      Valider
    </button>

    <div *ngIf="transferResult$ | async as result" class="text-green-600 font-bold mt-2">
      {{ result | json }}
    </div>
  </form>
</div>
