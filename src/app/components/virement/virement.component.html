<div class="container mx-auto p-4 text-center">
  <h2 class="text-3xl font-semibold mb-4">Make a Transfer</h2>
  <form [formGroup]="virementForm" (ngSubmit)="onSubmit()" class="max-w-md mx-auto">
    <div class="mb-4">
      <label for="idRecepteur" class="block text-gray-700 text-sm font-semibold mb-2">Recipient's ID</label>
      <input
        type="number"
        id="idRecepteur"
        formControlName="idRecepteur"
        class="w-full px-4 py-2 rounded-lg shadow-sm
               focus:outline-none focus:ring focus:ring-blue-200 transition duration-300
               border border-blue-300 bg-blue-100
               hover:border-blue-500 hover:bg-blue-200"
        [class.form-error]="virementForm.get('idRecepteur')?.invalid && virementForm.get('idRecepteur')?.touched"
      >
      <!-- Display error message if the ID input is invalid and has been touched -->
      <div *ngIf="virementForm.get('idRecepteur')?.invalid && virementForm.get('idRecepteur')?.touched" class="text-red-600 font-bold mt-1">Recipient's ID is required.</div>
    </div>
    <div class="mb-4">
      <label for="montant" class="block text-gray-700 text-sm font-semibold mb-2">Amount</label>
      <input
        type="number"
        id="montant"
        formControlName="montant"
        class="w-full px-4 py-2 rounded-lg shadow-sm
               focus:outline-none focus:ring focus:ring-blue-200 transition duration-300
               border border-blue-300 bg-blue-100
               hover:border-blue-500 hover:bg-blue-200"
        [class.form-error]="virementForm.get('montant')?.invalid && virementForm.get('montant')?.touched"
      >
      <!-- Display error message if the amount input is invalid and has been touched -->
      <div *ngIf="virementForm.get('montant')?.invalid && virementForm.get('montant')?.touched" class="text-red-600 font-bold mt-1">Amount is required and must be greater than or equal to 1.</div>
    </div>
    <button
      type="submit"
      [disabled]="!virementForm.valid"
      class="w-full px-4 py-2 rounded-lg shadow-md text-white bg-blue-500 hover:bg-blue-600 transition duration-300"
      [class.error-button]="!virementForm.valid"
    >
      Transfer
    </button>

    <!-- Display transfer result using the async pipe -->
    <div *ngIf="transferResult$ | async as result" class="text-green-600 font-bold mt-2">
      {{ result }}
    </div>
  </form>
</div>
